# ğŸ”§ ModeShift Django é¡¹ç›®ä¾èµ–å’ŒAPIå¯†é’¥å®Œæ•´æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: ModeShift Django (QAToolBox)  
**æŠ€æœ¯æ ˆ**: Django 4.2.18 + PostgreSQL + Redis + Docker  
**éƒ¨ç½²æ–¹å¼**: Dockerå®¹å™¨åŒ– + ä¼ ç»Ÿéƒ¨ç½²  
**å½“å‰çŠ¶æ€**: ç§æœ‰ä»“åº“ï¼Œå·²æ¸…ç†æ•æ„Ÿä¿¡æ¯  

---

## ğŸ Pythonä¾èµ–åŒ… (requirements.txt)

### æ ¸å¿ƒæ¡†æ¶
```python
Django==4.2.18                    # Django Webæ¡†æ¶
django-allauth==0.57.0            # ç”¨æˆ·è®¤è¯å’Œç¤¾äº¤ç™»å½•
django-cors-headers==4.3.1        # è·¨åŸŸè¯·æ±‚å¤„ç†
django-redis==5.4.0               # Redisç¼“å­˜æ”¯æŒ
django-captcha==1.0.0             # éªŒè¯ç åŠŸèƒ½
psycopg2-binary==2.9.9            # PostgreSQLæ•°æ®åº“é€‚é…å™¨
gunicorn==21.2.0                  # WSGIæœåŠ¡å™¨
whitenoise==6.6.0                 # é™æ€æ–‡ä»¶æœåŠ¡
Pillow==10.1.0                    # å›¾åƒå¤„ç†
requests==2.31.0                  # HTTPè¯·æ±‚åº“
python-dotenv==1.0.0              # ç¯å¢ƒå˜é‡ç®¡ç†
django-environ==0.11.2            # Djangoç¯å¢ƒå˜é‡
```

### å¼‚æ­¥å’Œä»»åŠ¡é˜Ÿåˆ—
```python
celery==5.3.4                     # å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—
redis==5.0.1                      # Rediså®¢æˆ·ç«¯
channels==4.0.0                   # WebSocketæ”¯æŒ
daphne==4.0.0                     # ASGIæœåŠ¡å™¨
```

### å¼€å‘å’Œè°ƒè¯•å·¥å…·
```python
django-extensions==3.2.3          # Djangoæ‰©å±•å·¥å…·
django-debug-toolbar==4.2.0       # è°ƒè¯•å·¥å…·æ 
django-cleanup==9.0.0             # æ–‡ä»¶æ¸…ç†
django-storages==1.14.2           # äº‘å­˜å‚¨æ”¯æŒ
boto3==1.34.0                     # AWS SDK
```

### å®‰å…¨å’Œæ€§èƒ½
```python
cryptography==45.0.7              # åŠ å¯†åº“
django-cachalot==2.6.1            # æŸ¥è¯¢ç¼“å­˜
django-health-check==3.17.0       # å¥åº·æ£€æŸ¥
```

### APIå’Œè¡¨å•
```python
djangorestframework==3.14.0       # REST APIæ¡†æ¶
django-crispy-forms==2.1          # è¡¨å•ç¾åŒ–
```

### è‡ªåŠ¨åŒ–æµ‹è¯•
```python
PyYAML>=6.0                       # YAMLè§£æ
selenium>=4.0.0                   # æµè§ˆå™¨è‡ªåŠ¨åŒ–
```

---

## ğŸ”‘ APIå¯†é’¥å’ŒæœåŠ¡é…ç½®

### ğŸ¤– AIæœåŠ¡APIå¯†é’¥

#### 1. DeepSeek AI (ä¸»è¦AIæœåŠ¡)
- **ç¯å¢ƒå˜é‡**: `DEEPSEEK_API_KEY`
- **å½“å‰å€¼**: `sk-c4a84c8bbff341cbb3006ecaf84030fe`
- **ç”¨é€”**: ä¸»è¦AIå¯¹è¯å’Œå†…å®¹ç”ŸæˆæœåŠ¡
- **APIæ–‡æ¡£**: https://api.deepseek.com/
- **çŠ¶æ€**: âœ… å·²é…ç½®

#### 2. AIMLAPI (èšåˆAIæœåŠ¡)
- **ç¯å¢ƒå˜é‡**: `AIMLAPI_API_KEY`
- **å½“å‰å€¼**: `d78968b01cd8440eb7b28d683f3230da`
- **ç”¨é€”**: æ”¯æŒ200+ç§AIæ¨¡å‹çš„èšåˆæœåŠ¡
- **çŠ¶æ€**: âš ï¸ éœ€è¦éªŒè¯
- **éªŒè¯é¡µé¢**: https://aimlapi.com/app/billing/verification

#### 3. è…¾è®¯æ··å…ƒå¤§æ¨¡å‹
- **ç¯å¢ƒå˜é‡**: `TENCENT_SECRET_ID`, `TENCENT_SECRET_KEY`
- **å½“å‰å€¼**: 
  - `TENCENT_SECRET_ID`: `100032618506_100032618506_16a17a3a4bc2eba0534e7b25c4363fc8`
  - `TENCENT_SECRET_KEY`: `sk-O5tVxVeCGTtSgPlaHMuPe9CdmgEUuy2d79yK5rf5Rp5qsI3m`
- **ç”¨é€”**: è…¾è®¯äº‘æ··å…ƒå¤§æ¨¡å‹æœåŠ¡
- **APIæ–‡æ¡£**: https://cloud.tencent.com/document/product/1729/101848

#### 4. å…è´¹AIæœåŠ¡ (æ¨èé…ç½®)
```bash
# Groq API - å…è´¹é¢åº¦å¤§ï¼Œé€Ÿåº¦å¿«
GROQ_API_KEY=your_groq_api_key_here

# AI Tools API - æ— éœ€ç™»å½•ï¼Œå…¼å®¹OpenAI
AITOOLS_API_KEY=your_aitools_key_here

# Together AI - æœ‰å…è´¹é¢åº¦
TOGETHER_API_KEY=your_together_api_key_here

# OpenRouter - èšåˆå¤šä¸ªæ¨¡å‹
OPENROUTER_API_KEY=your_openrouter_api_key_here

# è®¯é£æ˜Ÿç« - å®Œå…¨å…è´¹
XUNFEI_API_KEY=your_xunfei_key_here

# ç™¾åº¦åƒå¸† - å…è´¹é¢åº¦
BAIDU_API_KEY=your_baidu_key_here

# å­—èŠ‚æ‰£å­ - å¼€å‘è€…å…è´¹
BYTEDANCE_API_KEY=your_bytedance_key_here

# ç¡…åŸºæµåŠ¨ - å…è´¹é¢åº¦
SILICONFLOW_API_KEY=your_siliconflow_key_here
```

### ğŸ—ºï¸ åœ°å›¾å’Œä½ç½®æœåŠ¡

#### é«˜å¾·åœ°å›¾API
- **ç¯å¢ƒå˜é‡**: `AMAP_API_KEY`
- **å½“å‰å€¼**: `a825cd9231f473717912d3203a62c53e`
- **ç”¨é€”**: åœ°å›¾æœåŠ¡ã€ä½ç½®æŸ¥è¯¢ã€è·¯å¾„è§„åˆ’
- **APIæ–‡æ¡£**: https://lbs.amap.com/

### ğŸ–¼ï¸ å›¾ç‰‡å’Œåª’ä½“æœåŠ¡

#### Pixabayå›¾ç‰‡API
- **ç¯å¢ƒå˜é‡**: `PIXABAY_API_KEY`
- **å½“å‰å€¼**: `36817612-8c0c4c8c8c8c8c8c8c8c8c8c`
- **ç”¨é€”**: å…è´¹å›¾ç‰‡æœç´¢å’Œä¸‹è½½
- **APIæ–‡æ¡£**: https://pixabay.com/api/docs/

### ğŸŒ¤ï¸ å¤©æ°”æœåŠ¡

#### OpenWeather API
- **ç¯å¢ƒå˜é‡**: `OPENWEATHER_API_KEY`
- **ç”¨é€”**: å¤©æ°”ä¿¡æ¯æŸ¥è¯¢
- **APIæ–‡æ¡£**: https://openweathermap.org/api

### ğŸ” GoogleæœåŠ¡

#### Google API
- **ç¯å¢ƒå˜é‡**: `GOOGLE_API_KEY`
- **ç”¨é€”**: GoogleæœåŠ¡é›†æˆ

#### Googleè‡ªå®šä¹‰æœç´¢
- **ç¯å¢ƒå˜é‡**: `GOOGLE_CSE_ID`
- **ç”¨é€”**: è‡ªå®šä¹‰æœç´¢å¼•æ“

#### Google OAuth
- **ç¯å¢ƒå˜é‡**: `GOOGLE_OAUTH_CLIENT_ID`, `GOOGLE_OAUTH_CLIENT_SECRET`
- **ç”¨é€”**: Googleç¤¾äº¤ç™»å½•
- **APIæ–‡æ¡£**: https://developers.google.com/identity/protocols/oauth2

### ğŸ“± ç¤¾äº¤åª’ä½“APIé…ç½®
```bash
XIAOHONGSHU_API_KEY=your-xiaohongshu-api-key
DOUYIN_API_KEY=your-douyin-api-key
NETEASE_API_KEY=your-netease-api-key
WEIBO_API_KEY=your-weibo-api-key
BILIBILI_API_KEY=your-bilibili-api-key
ZHIHU_API_KEY=your-zhihu-api-key
```

---

## ğŸ—„ï¸ æ•°æ®åº“å’Œç¼“å­˜é…ç½®

### PostgreSQLæ•°æ®åº“
- **ç¯å¢ƒå˜é‡**: `DB_NAME`, `DB_USER`, `DB_PASSWORD`, `DB_HOST`, `DB_PORT`
- **å¼€å‘ç¯å¢ƒé…ç½®**:
  - `DB_NAME`: `qatoolbox_local`
  - `DB_USER`: `gaojie`
  - `DB_PASSWORD`: (ç©º)
  - `DB_HOST`: `localhost`
  - `DB_PORT`: `5432`

- **ç”Ÿäº§ç¯å¢ƒé…ç½®**:
  - `DB_NAME`: `qatoolbox_production`
  - `DB_USER`: `qatoolbox`
  - `DB_PASSWORD`: `qatoolbox123`
  - `DB_HOST`: `localhost`
  - `DB_PORT`: `5432`

### Redisç¼“å­˜
- **ç¯å¢ƒå˜é‡**: `REDIS_URL`, `REDIS_PASSWORD`
- **å½“å‰é…ç½®**:
  - `REDIS_URL`: `redis://localhost:6379/0`
  - `REDIS_PASSWORD`: `redis123`

---

## ğŸ³ Dockeré…ç½®

### åŸºç¡€é•œåƒ
- **Pythonç‰ˆæœ¬**: 3.11-slim (æ ‡å‡†ç‰ˆ) / 3.12-slim (å›½å†…ä¼˜åŒ–ç‰ˆ)
- **ç³»ç»Ÿä¾èµ–**:
  - PostgreSQLå®¢æˆ·ç«¯ (`libpq-dev`, `postgresql-client`)
  - å›¾åƒå¤„ç†ä¾èµ– (`libjpeg-dev`, `libpng-dev`, `libfreetype6-dev`)
  - éŸ³é¢‘å¤„ç†ä¾èµ– (`libsndfile1`)
  - æµè§ˆå™¨è‡ªåŠ¨åŒ–ä¾èµ– (`chromium`, `chromium-driver`)
  - OCRä¾èµ– (`tesseract-ocr`, `tesseract-ocr-chi-sim`)

### Docker ComposeæœåŠ¡
```yaml
services:
  db:                    # PostgreSQLæ•°æ®åº“
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: qatoolbox_production
      POSTGRES_USER: qatoolbox
      POSTGRES_PASSWORD: qatoolbox123

  redis:                 # Redisç¼“å­˜
    image: redis:7-alpine
    command: redis-server --appendonly yes --requirepass redis123

  web:                   # Djangoåº”ç”¨
    build: .
    ports:
      - "8000:8000"
```

---

## ğŸŒ éƒ¨ç½²é…ç½®

### æœåŠ¡å™¨è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04+ / CentOS 7+
- **Pythonç‰ˆæœ¬**: 3.11+
- **å†…å­˜**: æœ€ä½2GBï¼Œæ¨è4GB+
- **å­˜å‚¨**: æœ€ä½20GBï¼Œæ¨è50GB+

### ç³»ç»Ÿä¾èµ–
```bash
# åŸºç¡€å·¥å…·
build-essential curl wget git

# æ•°æ®åº“
postgresql postgresql-contrib

# ç¼“å­˜
redis-server

# WebæœåŠ¡å™¨
nginx

# å®¹å™¨åŒ–
docker docker-compose

# æµè§ˆå™¨è‡ªåŠ¨åŒ–
chromium chromium-driver

# OCRæ”¯æŒ
tesseract-ocr tesseract-ocr-chi-sim
```

### ç¯å¢ƒå˜é‡æ–‡ä»¶ç»“æ„

#### å¼€å‘ç¯å¢ƒ (.env)
```bash
# DjangoåŸºç¡€é…ç½®
DJANGO_SECRET_KEY=your-secret-key-here
DJANGO_DEBUG=True
DJANGO_SETTINGS_MODULE=config.settings.development

# AIæœåŠ¡APIå¯†é’¥
DEEPSEEK_API_KEY=sk-c4a84c8bbff341cbb3006ecaf84030fe
AIMLAPI_API_KEY=d78968b01cd8440eb7b28d683f3230da
GROQ_API_KEY=your-groq-api-key
AITOOLS_API_KEY=your-aitools-api-key

# åœ°å›¾å’Œå›¾ç‰‡æœåŠ¡
AMAP_API_KEY=a825cd9231f473717912d3203a62c53e
PIXABAY_API_KEY=36817612-8c0c4c8c8c8c8c8c8c8c8c8c

# GoogleæœåŠ¡
GOOGLE_API_KEY=your-google-api-key
GOOGLE_CSE_ID=your-google-custom-search-engine-id
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret

# å¤©æ°”æœåŠ¡
OPENWEATHER_API_KEY=your-openweather-api-key

# è…¾è®¯æ··å…ƒ
TENCENT_SECRET_ID=100032618506_100032618506_16a17a3a4bc2eba0534e7b25c4363fc8
TENCENT_SECRET_KEY=sk-O5tVxVeCGTtSgPlaHMuPe9CdmgEUuy2d79yK5rf5Rp5qsI3m

# æ•°æ®åº“é…ç½®
DB_NAME=qatoolbox_local
DB_USER=gaojie
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=5432

# Redisé…ç½®
REDIS_URL=redis://localhost:6379/0
```

#### ç”Ÿäº§ç¯å¢ƒ (env.production)
```bash
# DjangoåŸºç¡€é…ç½®
DJANGO_SECRET_KEY=django-aliyun-production-key-$(openssl rand -hex 32)
DEBUG=False
DJANGO_SETTINGS_MODULE=config.settings.production

# ä¸»æœºé…ç½®
ALLOWED_HOSTS=shenyiqing.xin,www.shenyiqing.xin,47.103.143.152,localhost,127.0.0.1

# AIæœåŠ¡APIå¯†é’¥
DEEPSEEK_API_KEY=sk-c4a84c8bbff341cbb3006ecaf84030fe
AIMLAPI_API_KEY=d78968b01cd8440eb7b28d683f3230da

# åœ°å›¾å’Œå›¾ç‰‡æœåŠ¡
AMAP_API_KEY=a825cd9231f473717912d3203a62c53e
PIXABAY_API_KEY=36817612-8c0c4c8c8c8c8c8c8c8c8c8c

# Google OAuthé…ç½®
GOOGLE_OAUTH_CLIENT_ID=1046109123456-abcdefghijklmnopqrstuvwxyz123456.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=GOCSPX-abcdefghijklmnopqrstuvwxyz123456

# è…¾è®¯æ··å…ƒ
TENCENT_SECRET_ID=100032618506_100032618506_16a17a3a4bc2eba0534e7b25c4363fc8
TENCENT_SECRET_KEY=sk-O5tVxVeCGTtSgPlaHMuPe9CdmgEUuy2d79yK5rf5Rp5qsI3m

# æ•°æ®åº“é…ç½®
DB_NAME=qatoolbox_production
DB_USER=qatoolbox
DB_PASSWORD=qatoolbox123
DB_HOST=localhost
DB_PORT=5432

# Redisé…ç½®
REDIS_URL=redis://localhost:6379/0
```

---

## ğŸš€ å¿«é€Ÿé…ç½®è„šæœ¬

### 1. é…ç½®AI Tools API (æ¨èï¼Œæ— éœ€ç™»å½•)
```bash
python setup_aitools_api.py
```

### 2. é…ç½®Groq API (æ¨èï¼Œå…è´¹é¢åº¦å¤§)
```bash
python quick_setup_groq.py
```

### 3. é…ç½®è…¾è®¯æ··å…ƒAPI
```bash
python setup_tencent_hunyuan.py
```

---

## ğŸ“Š æœåŠ¡ä¼˜å…ˆçº§

ç³»ç»Ÿä¼šæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§è‡ªåŠ¨é€‰æ‹©å¯ç”¨çš„AIæœåŠ¡ï¼š

1. **AIMLAPI** (ä½ çš„å¯†é’¥) - æœ€é«˜ä¼˜å…ˆçº§
2. **AI Tools** (æ— éœ€ç™»å½•) - ç«‹å³å¯ç”¨
3. **Groq** (å…è´¹é¢åº¦å¤§) - æ¨è
4. **è®¯é£æ˜Ÿç«** (å®Œå…¨å…è´¹) - å›½å†…æœåŠ¡
5. **ç™¾åº¦åƒå¸†** (å…è´¹é¢åº¦) - å›½å†…æœåŠ¡
6. **è…¾è®¯æ··å…ƒ** (å…è´¹ç‰ˆæœ¬) - å›½å†…æœåŠ¡
7. **å­—èŠ‚æ‰£å­** (å¼€å‘è€…å…è´¹) - å›½å†…æœåŠ¡
8. **ç¡…åŸºæµåŠ¨** (å…è´¹é¢åº¦) - å›½å†…æœåŠ¡
9. **DeepSeek** (å¤‡ç”¨) - è´¹ç”¨è¾ƒé«˜

---

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **æ°¸è¿œä¸è¦**å°†APIå¯†é’¥æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
2. **æ°¸è¿œä¸è¦**åœ¨æ—¥å¿—ä¸­è¾“å‡ºAPIå¯†é’¥
3. **æ°¸è¿œä¸è¦**åœ¨é”™è¯¯æ¶ˆæ¯ä¸­æš´éœ²APIå¯†é’¥
4. ä½¿ç”¨ `.gitignore` å¿½ç•¥åŒ…å«å¯†é’¥çš„æ–‡ä»¶
5. å®šæœŸå®¡æŸ¥ä»£ç ä¸­çš„å¯†é’¥ä½¿ç”¨æƒ…å†µ
6. å®šæœŸè½®æ¢APIå¯†é’¥
7. ç›‘æ§APIä½¿ç”¨æƒ…å†µ

---

## ğŸ“ è·å–å¸®åŠ©

### APIæœåŠ¡æ–‡æ¡£
- **DeepSeek**: https://api.deepseek.com/
- **AIMLAPI**: https://aimlapi.com/app/billing/verification
- **AI Tools**: https://platform.aitools.cfd/
- **Groq**: https://console.groq.com/
- **è…¾è®¯æ··å…ƒ**: https://hunyuan.tencent.com/
- **é«˜å¾·åœ°å›¾**: https://lbs.amap.com/
- **Pixabay**: https://pixabay.com/api/docs/
- **Google OAuth**: https://developers.google.com/identity/protocols/oauth2

### é¡¹ç›®æ–‡æ¡£
- **éšç§ä¿æŠ¤æŒ‡å—**: `PRIVACY_PROTECTION_GUIDE.md`
- **APIå¯†é’¥æ±‡æ€»**: `API_KEYS_SUMMARY.md`
- **å…è´¹AIæœåŠ¡æŒ‡å—**: `FREE_AI_APIS_GUIDE.md`

---

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2024-12-29**: åˆ›å»ºå®Œæ•´çš„ä¾èµ–å’ŒAPIå¯†é’¥æ€»ç»“æ–‡æ¡£
- **2024-12-29**: æ¸…ç†æ•æ„Ÿä¿¡æ¯ï¼Œå°†ä»“åº“è®¾ç½®ä¸ºç§æœ‰
- **2024-12-29**: å®Œå–„SSLè¯ä¹¦å’Œå¯†é’¥æ–‡ä»¶ä¿æŠ¤
- **2024-12-29**: æ›´æ–°.gitignoreè§„åˆ™ï¼Œå…¨é¢ä¿æŠ¤éšç§å†…å®¹

---

*æœ€åæ›´æ–°ï¼š2024å¹´12æœˆ29æ—¥*  
*æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0*