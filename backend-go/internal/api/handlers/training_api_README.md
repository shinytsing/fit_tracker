/**
 * FitTracker Tab1 - 训练模块后端API完整说明
 * 
 * 本模块提供了完整的训练相关API接口，包括：
 * 1. 训练计划管理（CRUD操作）
 * 2. AI训练计划生成
 * 3. 训练执行和进度跟踪
 * 4. 打卡签到系统
 * 5. 成就系统和积分管理
 * 6. 训练统计和分析
 * 
 * API接口详细说明：
 * 
 * 1. 训练计划管理
 * 
 * GET /api/v1/training/plans/today
 * - 功能：获取用户今日训练计划
 * - 参数：无（从JWT token获取user_id）
 * - 返回：完整的训练计划信息，包含动作列表和组数设置
 * - 错误处理：未授权(401)、服务器错误(500)
 * 
 * GET /api/v1/training/plans/history
 * - 功能：获取用户训练历史记录
 * - 参数：page(页码), limit(每页数量), start_date(开始日期), end_date(结束日期)
 * - 返回：分页的训练历史列表
 * - 错误处理：参数错误(400)、未授权(401)、服务器错误(500)
 * 
 * POST /api/v1/training/plans
 * - 功能：创建新的训练计划
 * - 参数：name(计划名称), description(描述), date(训练日期), exercises(动作列表), duration(时长), calories(卡路里)
 * - 返回：创建的训练计划信息
 * - 错误处理：参数验证失败(400)、未授权(401)、服务器错误(500)
 * 
 * PUT /api/v1/training/plans/:id
 * - 功能：更新训练计划
 * - 参数：计划ID + 更新字段
 * - 返回：更新后的训练计划信息
 * - 错误处理：计划不存在(404)、无权限(403)、服务器错误(500)
 * 
 * DELETE /api/v1/training/plans/:id
 * - 功能：删除训练计划
 * - 参数：计划ID
 * - 返回：删除成功消息
 * - 错误处理：计划不存在(404)、无权限(403)、服务器错误(500)
 * 
 * 2. AI训练计划生成
 * 
 * POST /api/v1/training/plans/ai-generate
 * - 功能：使用AI生成个性化训练计划
 * - 参数：goal(训练目标), duration(时长), difficulty(难度), muscle_groups(肌肉群), include_cardio(包含有氧), equipment(器械), preferences(偏好)
 * - 返回：AI生成的训练计划 + AI推荐理由 + 置信度 + 建议
 * - 错误处理：参数验证失败(400)、AI服务不可用(503)、服务器错误(500)
 * 
 * AI生成流程：
 * 1. 获取用户身体数据（身高、体重、年龄、BMI、健身水平）
 * 2. 分析用户训练历史（最近30天）
 * 3. 从动作模板库筛选推荐动作
 * 4. 构建AI请求参数
 * 5. 调用大模型API（GPT-3.5-turbo）
 * 6. 解析AI响应并验证
 * 7. 保存到数据库并返回
 * 
 * 3. 训练执行和进度跟踪
 * 
 * POST /api/v1/training/exercises/:id/complete
 * - 功能：标记动作组完成
 * - 参数：set_index(组数索引), plan_id(计划ID)
 * - 返回：完成成功消息
 * - 错误处理：动作不存在(404)、计划不存在(404)、服务器错误(500)
 * 
 * POST /api/v1/training/workouts/complete
 * - 功能：完成整个训练
 * - 参数：plan_id(计划ID), actual_duration(实际时长), actual_calories(实际卡路里), notes(备注), rating(评分)
 * - 返回：完成消息 + 获得积分 + 解锁成就
 * - 错误处理：计划不存在(404)、服务器错误(500)
 * 
 * 4. 打卡签到系统
 * 
 * POST /api/v1/training/check-ins
 * - 功能：创建打卡记录
 * - 参数：date(日期), type(类型), description(描述), images(图片), location(地点)
 * - 返回：打卡记录信息
 * - 错误处理：参数验证失败(400)、重复打卡(409)、服务器错误(500)
 * 
 * GET /api/v1/training/check-ins
 * - 功能：获取打卡记录
 * - 参数：page(页码), limit(每页数量), start_date(开始日期), end_date(结束日期), type(类型)
 * - 返回：分页的打卡记录列表
 * - 错误处理：未授权(401)、服务器错误(500)
 * 
 * 5. 成就系统和积分管理
 * 
 * GET /api/v1/training/achievements
 * - 功能：获取用户成就列表
 * - 参数：无（从JWT token获取user_id）
 * - 返回：用户成就列表（已完成、进行中、未开始）
 * - 错误处理：未授权(401)、服务器错误(500)
 * 
 * POST /api/v1/training/achievements/:id/claim
 * - 功能：领取成就奖励
 * - 参数：成就ID
 * - 返回：奖励信息（积分、徽章等）
 * - 错误处理：成就不存在(404)、未完成(400)、已领取(409)、服务器错误(500)
 * 
 * 6. 训练统计和分析
 * 
 * GET /api/v1/training/stats
 * - 功能：获取训练统计数据
 * - 参数：period(统计周期), start_date(开始日期), end_date(结束日期)
 * - 返回：训练统计信息（总次数、总时长、总卡路里、趋势等）
 * - 错误处理：未授权(401)、服务器错误(500)
 * 
 * GET /api/v1/training/exercises
 * - 功能：获取可用动作库
 * - 参数：category(分类), difficulty(难度), equipment(器械), search(搜索关键词)
 * - 返回：动作列表
 * - 错误处理：服务器错误(500)
 * 
 * 数据库表设计说明：
 * 
 * 1. training_plans - 训练计划表
 *   存储训练计划的基本信息，包括AI生成标记和理由
 * 
 * 2. training_exercises - 训练动作表
 *   存储计划中的具体动作信息，支持JSON格式的肌肉群和器械数据
 * 
 * 3. exercise_sets - 动作组数表
 *   存储每个动作的组数设置，包括次数、重量、休息时间等
 * 
 * 4. check_ins - 打卡记录表
 *   存储用户打卡信息，支持图片和位置数据
 * 
 * 5. achievements - 成就系统表
 *   存储成就定义，支持多种达成条件类型
 * 
 * 6. user_achievements - 用户成就记录表
 *   存储用户成就进度和完成状态
 * 
 * 7. user_points - 用户积分记录表
 *   记录用户积分的获得和消费历史
 * 
 * 8. training_stats - 训练统计表
 *   存储用户训练数据的统计信息，用于快速查询
 * 
 * 9. exercise_templates - 动作模板库表
 *   存储动作模板，支持AI推荐和用户选择
 * 
 * 10. user_training_preferences - 用户训练偏好表
 *    存储用户训练偏好设置，用于AI个性化推荐
 * 
 * AI服务集成说明：
 * 
 * 1. AI API调用
 *   - 使用OpenAI GPT-3.5-turbo模型
 *   - 构建专业的健身教练系统提示词
 *   - 包含用户身体数据和训练历史
 *   - 支持动作模板库的兼容使用
 * 
 * 2. 个性化推荐算法
 *   - 基于用户BMI和健身水平调整难度
 *   - 根据训练历史避免重复动作
 *   - 考虑用户偏好和可用器械
 *   - 平衡有氧和无氧运动比例
 * 
 * 3. 动作模板兼容
 *   - 维护本地动作模板库
 *   - AI生成时优先使用模板动作
 *   - 支持模板使用次数统计
 *   - 提供模板评分和推荐功能
 * 
 * 错误处理和日志记录：
 * 
 * 1. 统一错误响应格式
 *   - success: boolean
 *   - error: string
 *   - data: object
 *   - message: string
 * 
 * 2. 日志记录
 *   - API请求和响应日志
 *   - AI服务调用日志
 *   - 数据库操作日志
 *   - 错误和异常日志
 * 
 * 3. 监控和告警
 *   - API响应时间监控
 *   - AI服务可用性监控
 *   - 数据库性能监控
 *   - 错误率告警
 * 
 * 性能优化：
 * 
 * 1. 数据库优化
 *   - 合理的索引设计
 *   - 查询优化
 *   - 连接池管理
 *   - 读写分离
 * 
 * 2. 缓存策略
 *   - Redis缓存用户偏好
 *   - 缓存动作模板库
 *   - 缓存训练统计
 *   - 缓存AI生成结果
 * 
 * 3. 异步处理
 *   - AI生成异步处理
 *   - 成就检查异步处理
 *   - 统计更新异步处理
 *   - 通知发送异步处理
 * 
 * 安全考虑：
 * 
 * 1. 身份验证
 *   - JWT token验证
 *   - 用户权限检查
 *   - API访问控制
 * 
 * 2. 数据验证
 *   - 输入参数验证
 *   - SQL注入防护
 *   - XSS攻击防护
 * 
 * 3. 隐私保护
 *   - 用户数据加密
 *   - 敏感信息脱敏
 *   - 数据访问审计
 */
